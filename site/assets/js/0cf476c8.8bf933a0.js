"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[791],{1160:function(e,t,n){n.d(t,{Z:function(){return c}});var a=n(7294),r=n(7333),s=n(2669),o=n(7954),l=n(474);function c(e){var t=(0,a.useState)(e.value||"14241387"),n=t[0],c=t[1];return a.createElement(a.Fragment,null,a.createElement(s.Z,{className:"align-items-center"},a.createElement(o.Z,{className:"tx-label"},"App Index"),a.createElement(r.Z,{value:n,onValueChange:function(t){t.value&&(c(t.value),e.onChangeAppIndex(t.value))},className:"form-control tx-input",placeholder:"0",allowNegative:!1,isNumericString:!0,disabled:e.disabled}),a.createElement(l.Z,null,"Invalid number")))}},7720:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(7294),r=n(2669),s=n(7954),o=n(6704),l=n(2842),c=n(2866),i=n(8227);function m(e){var t=e.accounts&&e.accounts.length>0?e.accounts[0]:{name:"No wallet loaded"},n=(0,a.useState)(t),m=n[0],p=n[1],d=(0,a.useState)(!1),u=d[0],g=d[1];(0,a.useEffect)((function(){e.accounts.length>0&&e.onSelectSender(e.accounts[0].address)}),[]);return a.createElement(a.Fragment,null,a.createElement(r.Z,{className:"align-items-center"},a.createElement(s.Z,{className:"tx-label"},"From"),a.createElement(o.Z,{disabled:e.disabled||!e.accounts||0===e.accounts.length,className:"from-dropdown",isOpen:u,toggle:function(e){e.preventDefault(),g(!u)}},a.createElement(l.Z,{caret:!0,disabled:e.disabled},a.createElement("span",{className:"text-ellipsis"},m?m.name:"No account loaded")),a.createElement(c.Z,null,e.accounts&&e.accounts.map((function(t){return a.createElement(i.Z,{onClick:function(){return function(t){p(t),e.onSelectSender(t.address)}(t)},key:"account-"+t.address},a.createElement("span",{className:"text-ellipsis"},t.name))}))))))}},7824:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return D},default:function(){return B},frontMatter:function(){return U},metadata:function(){return S},toc:function(){return I}});var a=n(7462),r=n(3366),s=n(7294),o=n(3905),l=n(5861),c=n(7757),i=n.n(c),m=n(412),p=n(7243),d=n(3999),u=n(8008),g=n(9393),f=n(8829),A=n(267),E=n(1252),b=n(5538),v=n(7975),h=n(7954),x=n(3130),y=n(1160),Z=n(1152),k=n(7720),N=n(8764).Buffer;function C(){var e=(0,s.useContext)(x.E),t=m.Z.canUseDOM&&window.sharedAccounts&&Array.isArray(window.sharedAccounts)?window.sharedAccounts:[],n=17155035,a=(0,s.useState)(""),r=a[0],o=a[1],c=(0,s.useState)(),C=c[0],w=c[1],T=(0,s.useState)("1"),U=T[0],D=T[1],S=function(e){U!==e&&D(e)},I=function(){var a=(0,l.Z)(i().mark((function a(s){var o,l,c;return i().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(s.preventDefault(),a.prev=1,0!==t.length){a.next=4;break}return a.abrupt("return");case 4:return o={fee:1e3,firstRound:15249878,flatFee:!1,genesisHash:"SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=",genesisID:"testnet-v1.0",lastRound:15250878},l=e.algosdk.makeApplicationUpdateTxnFromObject({suggestedParams:Object.assign({},o,{fee:1e3,flatFee:!0}),from:r,approvalProgram:new Uint8Array(N.from("AiAEAAUEASYDB0NyZWF0b3IMTGFzdE1vZGlmaWVyBUNvdW50IjEYEkEADigxAGcpMQBnKiJnQgApMRkjEkAACjEZJBJAAA5CABgoZDEAEkEAEkIADSkxAGcqKmQlCGdCAAAlQyJDIgBD","base64")),clearProgram:new Uint8Array(N.from("AiABASJD","base64")),appIndex:n}),a.next=8,e.myAlgoWallet.signTransaction(l.toByte());case 8:c=a.sent,w(c),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(1),console.error(a.t0),w(a.t0.message);case 16:case"end":return a.stop()}}),a,null,[[1,12]])})));return function(e){return a.apply(this,arguments)}}();return s.createElement("div",{className:"interactive-example"},s.createElement(p.Z,{tabs:!0},s.createElement(d.Z,null,s.createElement(u.Z,{className:"1"===U?"active active-tab":"",onClick:function(){S("1")}},"Form")),s.createElement(d.Z,null,s.createElement(u.Z,{className:"2"===U?"active active-tab":"",onClick:function(){S("2")}},"Code"))),s.createElement(g.Z,{activeTab:U},s.createElement(f.Z,{tabId:"1"},s.createElement(A.Z,{className:"mt-3"},s.createElement(E.Z,{xs:"12",lg:"6",className:"mt-2"},s.createElement(b.Z,{id:"payment-tx",onSubmit:I},s.createElement(k.Z,{onSelectSender:o,accounts:t}),s.createElement(y.Z,{disabled:!0,value:n.toString(),onChangeAppIndex:function(){}}),s.createElement(v.Z,{color:"primary",block:!0,type:"submit",className:"mt-2",disabled:0===t.length},"Submit"))),s.createElement(E.Z,{xs:"12",lg:"6",className:"mt-2 mt-xs-2"},s.createElement(h.Z,{className:"tx-label"},"signTransaction() Response"),s.createElement("div",{className:"txn-appl-update-response"},s.createElement(Z.Z,{code:C?JSON.stringify(C,null,1):"",language:"js",plugins:["response"]})),s.createElement(v.Z,{className:"button-margin",color:"primary",block:!0,disabled:!C,onClick:function(){return w("")}},"Clear Method Response"))),0===t.length&&s.createElement("div",{className:"error-connect mt-3"}," In order to run this example, you need to execute connect() method. ")),s.createElement(f.Z,{tabId:"2"},s.createElement("div",{className:"mt-4"}," The following codes allow you to create and sent to MyAlgo Connect an application update transaction to be sign by the user. There are two alternatives to create it. Pick the one you prefere."),s.createElement(A.Z,{className:"mt-3"},s.createElement(E.Z,null,s.createElement(h.Z,{className:"tx-label"},"Using Algosdk (Recommended)"),s.createElement(Z.Z,{code:'\nimport algosdk from "algosdk";\nimport MyAlgoConnect from \'@randlabs/myalgo-connect\';\n \nconst algodClient = new algosdk.Algodv2("",\'https://api.testnet.algoexplorer.io\', \'\');\nconst params = await algodClient.getTransactionParams().do();\n\nconst txn = algosdk.makeApplicationUpdateTxnFromObject({\n    suggestedParams: {\n        ...params,\n    },\n    from: sender,\n    approvalProgram: new Uint8Array(Buffer.from("AiADAAEFIjEYEkEAAiNDMRkkEg==", "base64")),\n    clearProgram: new Uint8Array(Buffer.from("AiABASJD", "base64")),\n});\n\nconst myAlgoConnect = new MyAlgoConnect();\nconst signedTxn = await myAlgoConnect.signTransaction(txn.toByte());\n',language:"js"})),s.createElement(E.Z,{className:"mt-4"},s.createElement(h.Z,{className:"tx-label"},"Another alternative"),s.createElement(Z.Z,{code:'\nimport algosdk from "algosdk";\nimport MyAlgoConnect from \'@randlabs/myalgo-connect\';\n \nconst algodClient = new algosdk.Algodv2("",\'https://api.testnet.algoexplorer.io\', \'\');\nconst params = await algodClient.getTransactionParams().do();\n\nconst txn = {\n    ...params,\n    type: "appl",\n    from: sender,\n    appApprovalProgram: new Uint8Array(Buffer.from("AiADAAEFIjEYEkEAAiNDMRkkEg==", "base64")),\n    appClearProgram: new Uint8Array(Buffer.from("AiABASJD", "base64")),\n    appOnComplete: 4,\n}\n\nconst myAlgoConnect = new MyAlgoConnect();\nconst signedTxn = await myAlgoConnect.signTransaction(txn);\n',language:"js"}))))))}var w=function(){return s.createElement(x.Z,null,s.createElement(C,null))},T=["components"],U={sidebar_position:10},D="Appl Update Transaction",S={unversionedId:"interactive-examples/ApplUpdateTransaction",id:"interactive-examples/ApplUpdateTransaction",isDocsHomePage:!1,title:"Appl Update Transaction",description:"Create and send a update application transaction to be signed by the user already engaged.",source:"@site/docs/interactive-examples/ApplUpdateTransaction.mdx",sourceDirName:"interactive-examples",slug:"/interactive-examples/ApplUpdateTransaction",permalink:"/docs/interactive-examples/ApplUpdateTransaction",editUrl:"https://github.com/randlabs/myalgo-connect-homepage/edit/master/docs/interactive-examples/ApplUpdateTransaction.mdx",version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"sidebar",previous:{title:"Appl Delete Transaction",permalink:"/docs/interactive-examples/ApplDeleteTransaction"}},I=[{value:"Preconditions",id:"preconditions",children:[]},{value:"Interactive Example",id:"interactive-example",children:[]}],M={toc:I};function B(e){var t=e.components,n=(0,r.Z)(e,T);return(0,o.kt)("wrapper",(0,a.Z)({},M,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"appl-update-transaction"},"Appl Update Transaction"),(0,o.kt)("p",null,"Create and send a update application transaction to be signed by the user already engaged."),(0,o.kt)("h3",{id:"preconditions"},"Preconditions"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"User is already engaged and shared some account.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Transaction sender should match with one of address shared by the user, otherwise user will be alert."))),(0,o.kt)("h3",{id:"interactive-example"},"Interactive Example"),(0,o.kt)(w,{mdxType:"ApplUpadeteTransaction"}))}B.isMDXComponent=!0},5538:function(e,t,n){var a=n(7462),r=n(3366),s=n(7326),o=n(2856),l=n(7294),c=n(5697),i=n.n(c),m=n(4184),p=n.n(m),d=n(3663),u={children:i().node,inline:i().bool,tag:d.iC,innerRef:i().oneOfType([i().object,i().func,i().string]),className:i().string,cssModule:i().object},g=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind((0,s.Z)(n)),n.submit=n.submit.bind((0,s.Z)(n)),n}(0,o.Z)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,s=e.inline,o=e.tag,c=e.innerRef,i=(0,r.Z)(e,["className","cssModule","inline","tag","innerRef"]),m=(0,d.mx)(p()(t,!!s&&"form-inline"),n);return l.createElement(o,(0,a.Z)({},i,{ref:c,className:m}))},t}(l.Component);g.propTypes=u,g.defaultProps={tag:"form"},t.Z=g}}]);