"use strict";(self.webpackChunkhomepage=self.webpackChunkhomepage||[]).push([[544],{7720:function(e,t,n){n.d(t,{Z:function(){return m}});var a=n(7294),r=n(2669),l=n(7954),s=n(6704),o=n(2842),c=n(2866),i=n(8227);function m(e){var t=e.accounts&&e.accounts.length>0?e.accounts[0]:{name:"No wallet loaded"},n=(0,a.useState)(t),m=n[0],u=n[1],p=(0,a.useState)(!1),d=p[0],g=p[1];(0,a.useEffect)((function(){e.accounts.length>0&&e.onSelectSender(e.accounts[0].address)}),[]);return a.createElement(a.Fragment,null,a.createElement(r.Z,{className:"align-items-center"},a.createElement(l.Z,{className:"tx-label"},"From"),a.createElement(s.Z,{disabled:e.disabled||!e.accounts||0===e.accounts.length,className:"from-dropdown",isOpen:d,toggle:function(e){e.preventDefault(),g(!d)}},a.createElement(o.Z,{caret:!0,disabled:e.disabled},a.createElement("span",{className:"text-ellipsis"},m?m.name:"No account loaded")),a.createElement(c.Z,null,e.accounts&&e.accounts.map((function(t){return a.createElement(i.Z,{onClick:function(){return function(t){u(t),e.onSelectSender(t.address)}(t)},key:"account-"+t.address},a.createElement("span",{className:"text-ellipsis"},t.name))}))))))}},8031:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return P},default:function(){return j},frontMatter:function(){return B},metadata:function(){return M},toc:function(){return R}});var a=n(7462),r=n(3366),l=n(7294),s=n(3905),o=n(5861),c=n(7757),i=n.n(c),m=n(412),u=n(7243),p=n(3999),d=n(8008),g=n(9393),f=n(8829),b=n(267),E=n(1252),A=n(5538),h=n(7975),v=n(7954),y=n(3130),x=n(1152),C=n(7720),k=n(7333),N=n(2669),Z=n(474);function w(e){var t=(0,l.useState)(0),n=t[0],a=t[1];return l.createElement(l.Fragment,null,l.createElement(N.Z,{className:"align-items-center"},l.createElement(v.Z,{className:"tx-label"},e.label),l.createElement(k.Z,{value:n,onValueChange:function(t){var n=0;t.value&&(n=parseInt(t.value)),a(n),e.onChangeNumber(n)},className:"form-control tx-input",placeholder:"0",allowNegative:!1,isNumericString:!0,disabled:e.disabled}),l.createElement(Z.Z,null,"Invalid number")))}var T=n(8764).Buffer;function S(){var e=(0,l.useContext)(y.E),t=m.Z.canUseDOM&&window.sharedAccounts&&Array.isArray(window.sharedAccounts)?window.sharedAccounts:[],n=(0,l.useState)(0),a=n[0],r=n[1],s=(0,l.useState)(0),c=s[0],k=s[1],N=(0,l.useState)(0),Z=N[0],S=N[1],I=(0,l.useState)(0),D=I[0],B=I[1],P=(0,l.useState)(""),M=P[0],R=P[1],F=(0,l.useState)(),j=F[0],O=F[1],U=(0,l.useState)("1"),G=U[0],L=U[1],J=function(e){G!==e&&L(e)},Y=function(){var n=(0,o.Z)(i().mark((function n(r){var l,s,o;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),n.prev=1,0!==t.length){n.next=4;break}return n.abrupt("return");case 4:return l={fee:1e3,firstRound:15249878,flatFee:!1,genesisHash:"SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=",genesisID:"testnet-v1.0",lastRound:15250878},s=e.algosdk.makeApplicationCreateTxnFromObject({suggestedParams:Object.assign({},l,{fee:1e3,flatFee:!0}),from:M,numLocalByteSlices:Z||0,numGlobalByteSlices:D||0,numLocalInts:a||0,numGlobalInts:c||0,approvalProgram:new Uint8Array(T.from("AiADAAEFIjEYEkEAAiNDMRkkEg==","base64")),clearProgram:new Uint8Array(T.from("AiABASJD","base64")),onComplete:0}),n.next=8,e.myAlgoWallet.signTransaction(s.toByte());case 8:o=n.sent,O(o),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.error(n.t0),O(n.t0.message);case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(e){return n.apply(this,arguments)}}();return l.createElement("div",{className:"interactive-example"},l.createElement(u.Z,{tabs:!0},l.createElement(p.Z,null,l.createElement(d.Z,{className:"1"===G?"active active-tab":"",onClick:function(){J("1")}},"Form")),l.createElement(p.Z,null,l.createElement(d.Z,{className:"2"===G?"active active-tab":"",onClick:function(){J("2")}},"Code"))),l.createElement(g.Z,{activeTab:G},l.createElement(f.Z,{tabId:"1"},l.createElement(b.Z,{className:"mt-3"},l.createElement(E.Z,{xs:"12",lg:"6",className:"mt-2"},l.createElement(A.Z,{id:"payment-tx",onSubmit:Y},l.createElement(C.Z,{onSelectSender:R,accounts:t}),l.createElement(w,{label:"Local Bytes",onChangeNumber:S}),l.createElement(w,{label:"Global Bytes",onChangeNumber:B}),l.createElement(w,{label:"Local Int",onChangeNumber:r}),l.createElement(w,{label:"Global Int",onChangeNumber:k}),l.createElement(h.Z,{color:"primary",block:!0,type:"submit",className:"mt-2",disabled:0===t.length},"Submit"))),l.createElement(E.Z,{xs:"12",lg:"6",className:"mt-2 mt-xs-2"},l.createElement(v.Z,{className:"tx-label"},"signTransaction() Response"),l.createElement("div",{className:"txn-appl-create-response"},l.createElement(x.Z,{code:j?JSON.stringify(j,null,1):"",language:"js",plugins:["response"]})),l.createElement(h.Z,{className:"button-margin",color:"primary",block:!0,disabled:!j,onClick:function(){return O("")}},"Clear Method Response"))),0===t.length&&l.createElement("div",{className:"error-connect mt-3"}," In order to run this example, you need to execute connect() method. ")),l.createElement(f.Z,{tabId:"2"},l.createElement("div",{className:"mt-4"}," The following codes allow you to create and sent to MyAlgo Connect an application transaction to be sign by the user. There are two alternatives to create it. Pick the one you prefere."),l.createElement(b.Z,{className:"mt-3"},l.createElement(E.Z,null,l.createElement(v.Z,{className:"tx-label"},"Using Algosdk (Recommended)"),l.createElement(x.Z,{code:'\nimport algosdk from "algosdk";\nimport MyAlgoConnect from \'@randlabs/myalgo-connect\';\n \nconst algodClient = new algosdk.Algodv2("",\'https://api.testnet.algoexplorer.io\', \'\');\nconst params = await algodClient.getTransactionParams().do();\n\nconst txn = algosdk.makeApplicationCreateTxnFromObject({\n    suggestedParams: {\n        ...params,\n    },\n    from: sender,\n    numLocalByteSlices: 4,\n    numGlobalByteSlices: 2,\n    numLocalInts: 0,\n    numGlobalInts: 2,\n    approvalProgram: new Uint8Array(Buffer.from("AiADAAEFIjEYEkEAAiNDMRkkEg==", "base64")),\n    clearProgram: new Uint8Array(Buffer.from("AiABASJD", "base64")),\n    onComplete: 0,\n});\n\nconst myAlgoConnect = new MyAlgoConnect();\nconst signedTxn = await myAlgoConnect.signTransaction(txn.toByte());\n',language:"js"})),l.createElement(E.Z,{className:"mt-4"},l.createElement(v.Z,{className:"tx-label"},"Another alternative"),l.createElement(x.Z,{code:'\nimport algosdk from "algosdk";\nimport MyAlgoConnect from \'@randlabs/myalgo-connect\';\n \nconst algodClient = new algosdk.Algodv2("",\'https://api.testnet.algoexplorer.io\', \'\');\nconst params = await algodClient.getTransactionParams().do();\n\nconst txn = {\n    ...params,\n    type: "appl",\n    from: sender,\n    appLocalByteSlices: 4,\n    appGlobalByteSlices: 2,\n    appLocalInts: 0,\n    appGlobalInts: 2,\n    appApprovalProgram: new Uint8Array(Buffer.from("AiADAAEFIjEYEkEAAiNDMRkkEg==", "base64")),\n    appClearProgram: new Uint8Array(Buffer.from("AiABASJD", "base64")),\n    appOnComplete: 0,\n}\n\nconst myAlgoConnect = new MyAlgoConnect();\nconst signedTxn = await myAlgoConnect.signTransaction(txn);\n',language:"js"}))))))}var I=function(){return l.createElement(y.Z,null,l.createElement(S,null))},D=["components"],B={sidebar_position:8},P="Appl Create Transaction",M={unversionedId:"interactive-examples/ApplCreateTransaction",id:"interactive-examples/ApplCreateTransaction",isDocsHomePage:!1,title:"Appl Create Transaction",description:"Create and send a create application transaction to be signed by the user already engaged.",source:"@site/docs/interactive-examples/ApplCreateTransaction.mdx",sourceDirName:"interactive-examples",slug:"/interactive-examples/ApplCreateTransaction",permalink:"/docs/interactive-examples/ApplCreateTransaction",editUrl:"https://github.com/randlabs/myalgo-connect-homepage/edit/master/docs/interactive-examples/ApplCreateTransaction.mdx",version:"current",sidebarPosition:8,frontMatter:{sidebar_position:8},sidebar:"sidebar",previous:{title:"Payment with Teal Transaction",permalink:"/docs/interactive-examples/PaymentWithTeal"},next:{title:"Appl Delete Transaction",permalink:"/docs/interactive-examples/ApplDeleteTransaction"}},R=[{value:"Preconditions",id:"preconditions",children:[]},{value:"Interactive Example",id:"interactive-example",children:[]}],F={toc:R};function j(e){var t=e.components,n=(0,r.Z)(e,D);return(0,s.kt)("wrapper",(0,a.Z)({},F,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"appl-create-transaction"},"Appl Create Transaction"),(0,s.kt)("p",null,"Create and send a create application transaction to be signed by the user already engaged."),(0,s.kt)("h3",{id:"preconditions"},"Preconditions"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"User is already engaged and shared some account.")),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("p",{parentName:"li"},"Transaction sender should match with one of address shared by the user, otherwise user will be alert."))),(0,s.kt)("h3",{id:"interactive-example"},"Interactive Example"),(0,s.kt)(I,{mdxType:"ApplCreateTransaction"}))}j.isMDXComponent=!0},5538:function(e,t,n){var a=n(7462),r=n(3366),l=n(7326),s=n(2856),o=n(7294),c=n(5697),i=n.n(c),m=n(4184),u=n.n(m),p=n(3663),d={children:i().node,inline:i().bool,tag:p.iC,innerRef:i().oneOfType([i().object,i().func,i().string]),className:i().string,cssModule:i().object},g=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind((0,l.Z)(n)),n.submit=n.submit.bind((0,l.Z)(n)),n}(0,s.Z)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,l=e.inline,s=e.tag,c=e.innerRef,i=(0,r.Z)(e,["className","cssModule","inline","tag","innerRef"]),m=(0,p.mx)(u()(t,!!l&&"form-inline"),n);return o.createElement(s,(0,a.Z)({},i,{ref:c,className:m}))},t}(o.Component);g.propTypes=d,g.defaultProps={tag:"form"},t.Z=g}}]);